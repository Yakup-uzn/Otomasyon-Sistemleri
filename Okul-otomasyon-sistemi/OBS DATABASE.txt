CREATE DATABASE obs;

CREATE TABLE ogrenciler (
OGRENCI_ID INT PRIMARY KEY AUTO_INCREMENT,
CINSIYET VARCHAR (1),
OGRENCI_AD VARCHAR(20),
OGRENCI_SOYAD VARCHAR(20),
OGRENCI_TEL VARCHAR(12),
OGRENCI_MAIL VARCHAR(40),
OGRENCI_SIFRE VARCHAR(20)
);

CREATE TABLE veli (
VELI_ID INT PRIMARY KEY AUTO_INCREMENT,
CINSIYET VARCHAR (1),
VELI_AD VARCHAR(20),
VELI_SOYAD VARCHAR(20),
VELI_TEL VARCHAR(12),
VELI_MAIL VARCHAR(40),
VELI_SIFRE VARCHAR(20)
);

CREATE TABLE aile (
AILE_ID INT PRIMARY KEY AUTO_INCREMENT,
AILE_AD VARCHAR(20),
AILE_KISI_SAYISI INT,
OGRENCI_ID INT
);

CREATE TABLE ailebilgi (
AILE_UYESI_ID INT PRIMARY KEY AUTO_INCREMENT,
OGRENCI_ID INT,
ANNE_AD VARCHAR(20),
BABA_AD VARCHAR(20),
ANNE_BABA_AYRI_MI VARCHAR(5),
KAC_KARDES INT,
EV_GELIRI INT
);

CREATE TABLE veliadres (
ID INT PRIMARY KEY AUTO_INCREMENT,
VELI_ID INT,
IKAMET_BASLANGIC VARCHAR (20),
IKAMET_SURESI VARCHAR (20),
ADRES_DETAY VARCHAR(100)
);

CREATE TABLE ogrenciadres (
ID INT PRIMARY KEY AUTO_INCREMENT,
OGRENCI_ID INT,
IKAMET_BASLANGIC VARCHAR (20),
IKAMET_SURESI VARCHAR (20),
ADRES_DETAY VARCHAR(100)
);

CREATE TABLE okul (
OKUL_ID INT PRIMARY KEY AUTO_INCREMENT,
OKUL_ISMI VARCHAR(100),
OKUL_MUDURU VARCHAR(20)
);

CREATE TABLE ogretmen (
OGRETMEN_ID INT PRIMARY KEY AUTO_INCREMENT,
OKUL_ID INT,
CINSIYET VARCHAR (1),
OGRETMEN_AD VARCHAR(20),
OGRETMEN_SOYAD VARCHAR(20),
OGRETMEN_TEL VARCHAR(12),
OGRETMEN_MAIL VARCHAR(40),
OGRETMEN_SIFRE VARCHAR(20)
);

CREATE TABLE sinif (
SINIF_ID INT PRIMARY KEY AUTO_INCREMENT,
SINIF_KOD VARCHAR(20),
SINIF_AD VARCHAR(20),
SINIF_ACILIS VARCHAR(20)
);

CREATE TABLE ders (
DERS_ID INT PRIMARY KEY AUTO_INCREMENT,
DERS_ADI VARCHAR(20),
DERS_KONUSU VARCHAR(30)
);

CREATE TABLE ogrencisinif (
ID INT PRIMARY KEY AUTO_INCREMENT,
OGRENCI_ID INT,
SINIF_ID INT
);

CREATE TABLE odev (
ODEV_ID INT PRIMARY KEY AUTO_INCREMENT,
OGRENCI_ID INT,
VERILIS_TARIH DATETIME,
TESLIM_TARIH DATETIME,
ODEV_ICERIK VARCHAR(100),
DERS_ADI VARCHAR(20),
ODEV_KONUSU VARCHAR(30),
NOT_YUZDESI VARCHAR(20)
);

CREATE TABLE ogretmensikayet (
SIKAYET_ID INT PRIMARY KEY AUTO_INCREMENT,
OLUSTURMA_TARIH DATETIME,
SIKAYET_ICERIK VARCHAR(200),
OGRETMEN_YORUM VARCHAR(100)
);

CREATE TABLE ogrencisikayet (
SIKAYET_ID INT PRIMARY KEY AUTO_INCREMENT,
OLUSTURMA_TARIH DATETIME,
SIKAYET_ICERIK VARCHAR(200),
OGRENCI_YORUM VARCHAR(100)
);

CREATE TABLE mudur (
MUDUR_ID INT PRIMARY KEY AUTO_INCREMENT,
OKUL_ID INT,
CINSIYET VARCHAR (1),
MUDUR_AD VARCHAR(20),
MUDUR_SOYAD VARCHAR(20),
MUDUR_TEL VARCHAR(12),
MUDUR_MAIL VARCHAR(40),
MUDUR_SIFRE VARCHAR(20)
);

CREATE TABLE disiplin (
DISIPLIN_ID INT PRIMARY KEY AUTO_INCREMENT,
OGRENCI_ID INT,
OGRENCI_AD VARCHAR(20),
OGRENCI_SOYAD VARCHAR(20),
ISLEDIGI_SUC VARCHAR(20),
CEZA VARCHAR(30)
);

CREATE TABLE hademe (
HADEME_ID INT PRIMARY KEY AUTO_INCREMENT,
OKUL_ID INT,
CINSIYET VARCHAR (1),
HADEME_AD VARCHAR(20),
HADEME_SOYAD VARCHAR(20),
HADEME_TEL VARCHAR(12)
);

CREATE TABLE memur (
MEMUR_ID INT PRIMARY KEY AUTO_INCREMENT,
OKUL_ID INT,
CINSIYET VARCHAR (1),
MEMUR_AD VARCHAR(20),
MEMUR_SOYAD VARCHAR(20),
MEMUR_TEL VARCHAR(12)
);

INSERT INTO okul (OKUL_ISMI, OKUL_MUDURU) VALUES ("ALTUN ÜNİVERSİTESİ", "BORA ALTUN");
INSERT INTO mudur (OKUL_ID ,CINSIYET, MUDUR_AD, MUDUR_SOYAD, MUDUR_TEL, MUDUR_MAIL, MUDUR_SIFRE) VALUES (1, "E", "BORA", "ALTUN", 05056451797, "bora@outlook.com", "123");

ALTER TABLE ogrenciadres ADD CONSTRAINT fk_ogrenciadres FOREIGN KEY (OGRENCI_ID) REFERENCES ogrenciler(OGRENCI_ID);
ALTER TABLE veliadres ADD CONSTRAINT fk_veliadres FOREIGN KEY (VELI_ID) REFERENCES veli(VELI_ID);
ALTER TABLE aile ADD CONSTRAINT fk_aile FOREIGN KEY (OGRENCI_ID) REFERENCES ogrenciler(OGRENCI_ID);
ALTER TABLE ailebilgi ADD CONSTRAINT fk_ailebilgi FOREIGN KEY (OGRENCI_ID) REFERENCES ogrenciler(OGRENCI_ID);
ALTER TABLE mudur ADD CONSTRAINT fk_mudur FOREIGN KEY (OKUL_ID) REFERENCES okul(OKUL_ID);
ALTER TABLE ogretmen ADD CONSTRAINT fk_ogretmen FOREIGN KEY (OKUL_ID) REFERENCES okul(OKUL_ID);
ALTER TABLE hademe ADD CONSTRAINT fk_hademe FOREIGN KEY (OKUL_ID) REFERENCES okul(OKUL_ID);
ALTER TABLE memur ADD CONSTRAINT fk_memur FOREIGN KEY (OKUL_ID) REFERENCES okul(OKUL_ID);
ALTER TABLE ogrencisinif ADD CONSTRAINT fk_ogrencisinif FOREIGN KEY (SINIF_ID) REFERENCES sinif(SINIF_ID);

